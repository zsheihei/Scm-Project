<?phpnamespace app\scm\controller\system;use app\scm\controller\Auth;use app\scm\model\system\SystemConfig;use app\scm\model\system\SystemAdmin;use app\scm\model\system\SystemLog as LogModel;use service\UtilService as Util;/** * 管理员操作记录表控制器 * Class SystemLog * @package app\scm\controller\system */class SystemLog extends Auth{    /**     * 显示操作记录     */    public function index(){        $log_cycle = SystemConfig::getValue('log_cycle')?:90;        LogModel::deleteLog($log_cycle);        $where = Util::getMore([            ['pages',''],            ['admin_id',''],            ['data',''],        ],$this->request);        $where['level'] = $this->adminInfo['level'];        $this->assign('where',$where);        $this->assign('admin',SystemAdmin::getOrdAdmin('id,real_name',$this->adminInfo['level']));        $data = LogModel::systemPage($where)["list"]->toArray();        $this->assign("data",json_encode($data["data"]));        $this->assign(LogModel::systemPage($where));        return $this->fetch();    }  }